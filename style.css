:root{
  --bg:#ffffff;
  --card:#ffffff;
  --ink:#000000;
  --muted:#555;
  --line:#ccc;
  --accent:#2e7d32;        /* HMM green */
  --accent-2:#219a6b;      /* teal-ish for charts */
  --accent-3:#66bb6a;      /* lighter green */
  --bad:#b00020;
}
*{box-sizing:border-box}
html,body{margin:0;padding:0;background:var(--bg);color:var(--ink);font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Inter,system-ui,sans-serif}

/* Header */
header{position:sticky;top:0;background:#fff;padding:10px 12px;border-bottom:3px solid var(--accent);display:grid;grid-template-columns:1fr auto;gap:10px;align-items:center}
.brand{display:flex;gap:10px;align-items:center}
.brand-logo{height:46px;aspect-ratio:1/1;object-fit:contain}
.brand-text h1{font-size:18px;margin:0}
.brand-text .muted{color:var(--muted);font-size:12px;margin-top:2px}
.actions{display:flex;gap:8px;flex-wrap:wrap}

button{border:1px solid #ccc;background:#fff;color:#000;border-radius:10px;padding:10px 12px;font-size:14px;cursor:pointer}
button.primary{background:var(--accent);border-color:#3a9b3f;color:#fff}
button.secondary{background:#f3f3f3}
button:active{transform:scale(0.99)}

main{padding:16px;display:grid;gap:12px}
.card{background:var(--card);border:1px solid var(--line);border-radius:12px;padding:12px}
h2{margin:0 0 8px;font-size:16px}
.grid.two{display:grid;grid-template-columns:1fr 1fr;gap:8px}
.grid.three{display:grid;grid-template-columns:1.2fr .8fr .8fr;gap:8px}
label{display:flex;flex-direction:column;gap:6px;font-size:12px;color:var(--muted)}
input,textarea{background:#fff;border:1px solid #ccc;border-radius:10px;padding:10px;color:#000;font-size:15px;width:100%}

/* Items */
#items .item{display:grid;grid-template-columns:2fr 1fr 1fr auto;gap:8px;align-items:end;margin-bottom:8px}
#items .remove{border-color:#a33;background:#f8d7da;color:#a33}

/* Totals */
.totals .numbers{display:flex;flex-direction:column;gap:8px;margin-left:auto;max-width:220px}
.totals .numbers div{display:flex;justify-content:space-between;align-items:center}
.totals .numbers .grand{font-size:18px;border-top:1px dashed #ccc;padding-top:8px;margin-top:8px}

/* Preview */
.card.preview{background:#fff}
.preview #previewDoc{background:#fff;color:#000;padding:18px;border-radius:8px;border-top:4px solid var(--accent)}
.preview .header{display:flex;justify-content:space-between;align-items:flex-start;gap:10px;margin-bottom:12px}
.preview table{width:100%;border-collapse:collapse;margin-top:8px}
.preview th,.preview td{border-bottom:1px solid #ddd;padding:8px;text-align:left}

/* Lists */
.history-controls{display:flex;gap:8px;align-items:center;margin-bottom:8px}
.history-list table{width:100%;border-collapse:collapse}
.history-list th,.history-list td{padding:10px;border-bottom:1px solid #eee;text-align:left}
.history-list th{background:#f6faf7;border-bottom:1px solid #dfe8e1}
.row-actions{display:flex;gap:6px}
.badge-paid{color:var(--bad);font-weight:bold;margin-left:6px}

/* Profit screen */
.profit-controls{display:flex;gap:8px;align-items:center;margin-bottom:10px}
.profit-controls .spacer{flex:1}
.section-title{font-weight:600;color:#333;margin-bottom:6px}
.profit-grid{display:grid;grid-template-columns:1fr 1fr;gap:12px}
.donut-row{display:flex;gap:14px;align-items:center}
.big-number{font-weight:700;font-size:22px}
.legend{list-style:none;margin:8px 0 0 0;padding:0;display:flex;flex-direction:column;gap:6px}
.legend li{display:flex;align-items:center;gap:8px}
.legend .dot{width:10px;height:10px;border-radius:999px;display:inline-block}
.profit-big{font-size:22px;padding:10px 14px;border-radius:12px;background:#eaf4ec;border:1px solid #cfe4d3;color:#1b5e20;cursor:pointer}
.muted.small{font-size:12px;color:#777}
.profit-actions{display:flex;gap:8px;flex-wrap:wrap;margin-top:6px}
.divider{margin:12px 0;border-top:1px solid #e5e5e5}
.subhead{margin:0 0 8px 0;font-size:14px;color:#2e7d32}

/* Responsive + print */
@media (max-width:900px){
  .grid.two{grid-template-columns:1fr}
  .grid.three{grid-template-columns:1fr 1fr 1fr}
  .profit-grid{grid-template-columns:1fr}
  #items .item{grid-template-columns:1fr 100px 100px auto}
}
@media print{
  header,footer,.card:not(.preview){display:none}
  .preview #previewDoc{padding:0}
}
